{% extends "classroom/classroom_base.html" %}

{% block pregroup %}

    <h1>{{ classroom.name }}</h1>
    <h2> Member Count: {{ classroom.members.count }}</h2>
    <h2> Classroom joining code: {{ classroom.code }}</h2>
    <div class="col-md-4">
        <div class="content">
            {% if user.is_authenticated %}
                <h2>
                    Members:
                    {% if user in classroom.members.all %}
                        {% for member in classroom.members.all %}
                            <h3 class="title list-group-item-heading">{{ member }}</h3>
                        {% endfor %}
                    {% endif %}
                </h2>
            {% endif %}
        </div>
        <br>
    </div>

    <div class="content">


        {% if user in classroom.members.all %}
            <a href="{% url 'classroom:leave' slug=classroom.slug %}" class="btn btn-lg btn-fill btn-warning"><span
                    class="glyphicon glyphicon-remove-circle"></span> Leave</a>

            <div class="dropdown">
                <button class="dropbtn">Article</button>
                <div class="dropdown-content">
                    {% if user_role_in_classroom == "teacher" %}
                        <a href="{% url 'article:pending_articles' code=classroom.code slug=classroom.slug name=classroom.name %}"
                           class="btn btn-lg btn-fill "> Pending Articles</a>
                    {% endif %}
                    <a href="{% url 'article:create' code=classroom.code slug=classroom.slug name=classroom.name %}"
                       class="btn btn-lg btn-fill "> Post Article</a>
                    <a href="{% url 'article:articles' code=classroom.code slug=classroom.slug name=classroom.name %}"
                       methods="post" class="btn btn-lg btn-fill ">Articles</a>
                </div>
            </div>

            {% if user_role_in_classroom == "teacher" %}
                <a href="{% url 'assignment:create' code=classroom.code slug=classroom.slug %}"
                   class="btn btn-lg btn-fill btn-warning"><span
                        class="glyphicon glyphicon-remove-circle"></span> Post Assignment</a>
            {% endif %}

        {% endif %}
        <a href="/lobby?greeting={{ classroom.name }}" class="btn btn-lg btn-fill "> Channels</a>

    </div>
{% endblock %}



{% block group_content %}

    <div class="col-md-8">
        {% if classroom.assignments.count == 0 %}
            <h2>No assignments in this classroom yet!</h2>

        {% else %}

            {% for assignment in classroom.assignments.all %}
                {% include "assignment/_assignment.html" %}
            {% endfor %}

        {% endif %}
    </div>
{% endblock %}